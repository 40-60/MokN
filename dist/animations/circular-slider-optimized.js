!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("animations/circular-slider-optimized",[],t):"object"==typeof exports?exports["animations/circular-slider-optimized"]=t():e["animations/circular-slider-optimized"]=t()}(this,()=>{return e={994:e=>{e.exports=function(){const e={LOOP_FRAME_COUNT:49,LOOP_FPS:25,BASE_URL:"https://cdn.jsdelivr.net/gh/40-60/mokn@master/dist/img_sequences/baits/loop/"},t={debounce(e,t){let o;return function(...a){clearTimeout(o),o=setTimeout(()=>{clearTimeout(o),e(...a)},t)}},isMobile:()=>window.innerWidth<=767,batchDOMUpdates(e){requestAnimationFrame(e)}},o=(()=>{const e={};return Object.entries({prevBtn:"#prev-btn",nextBtn:"#next-btn",circularCarousel:".circular_carousel_list",mobileDotsWrapper:".mobile_dots_wrapper",carouselMask:".circular_carousel_mask",circularSlider3DWrapper:"[circular-slider-3d]"}).forEach(([t,o])=>{e[t]=document.querySelector(o)}),e.carouselItems=document.querySelectorAll(".circular_carousel_item"),e.contents=document.querySelectorAll(".circular_carousel_content"),e.paginationDots=document.querySelector(".circular_carousel_nav")?.querySelectorAll(".slider-dot")||[],e.desktopDots=document.querySelectorAll(".circular_carousel_dot.is-desktop .circular_carousel_dot_icon"),e.desktopDotsLight=document.querySelectorAll(".circular_carousel_dot.is-desktop .circular_carousel_dot_light"),e.mobileDots=document.querySelectorAll(".circular_carousel_dot.is-mobile .circular_carousel_dot_icon"),e.mobileDotsLight=document.querySelectorAll(".circular_carousel_dot.is-mobile .circular_carousel_dot_light"),e.carouselImages=document.querySelectorAll(".circular_carousel_img"),e})(),a={rotation:0,activeIndex:0,touchStartX:null,touchEndX:null,isDestroyed:!1},s={loopAnimation:null,loopCanvas:null,loopCtx:null,loopImages:[],loopPlayhead:{frame:0},preloadImages(){const{LOOP_FRAME_COUNT:t,BASE_URL:o}=e;this.loopImages=Array.from({length:t},(e,t)=>{const a=new Image;return a.src=`${o}loop${t}.webp`,a})},updateLoopImage(){const e=Math.round(this.loopPlayhead.frame),t=this.loopImages[e];t?.complete&&this.loopCanvas&&this.loopCtx&&(this.loopCanvas.width===t.width&&this.loopCanvas.height===t.height||(this.loopCanvas.width=t.width,this.loopCanvas.height=t.height),this.loopCtx.clearRect(0,0,this.loopCanvas.width,this.loopCanvas.height),this.loopCtx.drawImage(t,0,0))},startLoop(){if(!window.gsap)return void console.warn("GSAP not found for circular slider 3D loop");this.loopAnimation&&this.loopAnimation.kill();const{LOOP_FRAME_COUNT:t,LOOP_FPS:o}=e,a=t/o;this.loopPlayhead.frame=0,this.updateLoopImage(),this.loopAnimation=gsap.to(this.loopPlayhead,{frame:t-1,duration:a,ease:"none",repeat:-1,onUpdate:()=>this.updateLoopImage()})},destroy(){this.loopAnimation&&(this.loopAnimation.kill(),this.loopAnimation=null)}},i={setContentColors(e,o){if(!e)return;const a=e.querySelector("h3"),s=e.querySelector("p");t.batchDOMUpdates(()=>{a&&(a.classList.toggle("text-color-gs-600",!o),a.classList.toggle("text-color-white",o)),s&&(s.classList.toggle("text-color-gs-600",!o),s.classList.toggle("text-color-gs-300",o))})},updateActiveStates(){t.batchDOMUpdates(()=>{const{activeIndex:e}=a;o.paginationDots.forEach((t,o)=>{t.classList.toggle("is-active",o===e)}),t.isMobile()?this.updateMobileStates():this.updateDesktopStates()})},updateDesktopStates(){const{activeIndex:e,rotation:t}=a;o.circularCarousel&&(o.circularCarousel.style.transform=`rotateZ(${t}deg)`),o.desktopDots.forEach((t,o)=>{t.classList.toggle("is-active",o===e)}),o.desktopDotsLight.forEach((t,o)=>{t.classList.toggle("is-active",o===e)}),o.contents.forEach((t,o)=>{this.setContentColors(t,o===e)})},updateMobileStates(){const{activeIndex:e,rotation:t}=a;o.mobileDotsWrapper&&(o.mobileDotsWrapper.style.transform=`rotateZ(${-t}deg)`),o.carouselItems.forEach((t,o)=>{t.classList.toggle("is-active",o===e)}),o.mobileDots.forEach((t,o)=>{t.classList.toggle("is-active",o===e)}),o.mobileDotsLight.forEach((t,o)=>{t.classList.toggle("is-active",o===e)})},updateButtonStates(){const{activeIndex:e}=a;t.batchDOMUpdates(()=>{o.prevBtn&&o.prevBtn.classList.toggle("is-disabled",0===e),o.nextBtn&&o.nextBtn.classList.toggle("is-disabled",5===e)})},addPulseEffect(){o.carouselImages.forEach(e=>e.classList.add("pulse")),setTimeout(()=>{a.isDestroyed||o.carouselImages.forEach(e=>e.classList.remove("pulse"))},200)}},r={handleSlideChange(e){a.rotation+=30*e,a.activeIndex-=e,i.updateActiveStates(),i.updateButtonStates()},handlePrevClick(){0!==a.activeIndex&&(i.addPulseEffect(),r.handleSlideChange(1))},handleNextClick(){5!==a.activeIndex&&(i.addPulseEffect(),r.handleSlideChange(-1))},handleDotClick(e){if(e===a.activeIndex)return;const t=e<a.activeIndex?1:-1,o=Math.abs(e-a.activeIndex);a.rotation+=30*t*o,a.activeIndex=e,i.updateActiveStates(),i.updateButtonStates()},handleTouchStart(e){t.isMobile()&&(a.touchStartX=e.changedTouches[0].screenX)},handleTouchEnd(e){if(!t.isMobile()||null===a.touchStartX)return;a.touchEndX=e.changedTouches[0].screenX;const o=a.touchEndX-a.touchStartX;Math.abs(o)>40&&(o>0&&a.activeIndex>0?r.handleSlideChange(1):o<0&&a.activeIndex<5&&r.handleSlideChange(-1)),a.touchStartX=null,a.touchEndX=null},handleResize:t.debounce(()=>{a.isDestroyed||(i.updateActiveStates(),i.updateButtonStates())},100)};return t.isMobile()&&o.contents.forEach(e=>{i.setContentColors(e,!0)}),o.prevBtn?.addEventListener("click",r.handlePrevClick),o.nextBtn?.addEventListener("click",r.handleNextClick),o.paginationDots.forEach((e,t)=>{e.addEventListener("click",()=>r.handleDotClick(t))}),o.carouselMask&&(o.carouselMask.addEventListener("touchstart",r.handleTouchStart),o.carouselMask.addEventListener("touchend",r.handleTouchEnd)),window.addEventListener("resize",r.handleResize),o.circularSlider3DWrapper&&(s.loopCanvas=document.createElement("canvas"),s.loopCtx=s.loopCanvas.getContext("2d"),o.circularSlider3DWrapper.innerHTML="",o.circularSlider3DWrapper.appendChild(s.loopCanvas),s.loopCanvas.classList.add("img-contain"),s.preloadImages(),s.startLoop()),i.updateActiveStates(),i.updateButtonStates(),{destroy:()=>{a.isDestroyed=!0,o.prevBtn?.removeEventListener("click",r.handlePrevClick),o.nextBtn?.removeEventListener("click",r.handleNextClick),window.removeEventListener("resize",r.handleResize),o.paginationDots.forEach((e,t)=>{e.removeEventListener("click",()=>r.handleDotClick(t))}),o.carouselMask&&(o.carouselMask.removeEventListener("touchstart",r.handleTouchStart),o.carouselMask.removeEventListener("touchend",r.handleTouchEnd)),s.destroy()}}}}},t={},function o(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,o),i.exports}(994);var e,t});